<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="./detail.css">
    <!-- ================iconify=================== -->
    <script src="https://code.iconify.design/iconify-icon/1.0.5/iconify-icon.min.js"></script>
    <script src="https://kit.fontawesome.com/3b161c540c.js" crossorigin="anonymous"></script>
    <script>
      function downloadImage() {
          // Ganti 'hu1.jpeg' dengan nama file gambar yang ingin Anda unduh
          var imageName = 'pembayaran.jpeg';
          
          // Ganti 'rent-img/' dengan path relatif dari direktori kode ke gambar tersebut
          var imageUrl = 'rent-img/' + imageName;
          
          // Membuat elemen <a> baru dengan atribut href dan download
          var link = document.createElement('a');
          link.href = imageUrl;
          link.download = imageName;
  
          // Menambahkan elemen ke dalam dokumen dan mengkliknya secara otomatis
          document.body.appendChild(link);
          link.click();

          // Menampilkan SweetAlert setelah formulir dikosongkan
        Swal.fire({
          position: "top-center",
          icon: "success",
          title: "Berhasil di Download",
          showConfirmButton: false,
          timer: 1000
        });
  
          // Menghapus elemen setelah proses unduhan selesai
          document.body.removeChild(link);
          document.getElementById("verify").style.display = "inline";
          document.getElementById("downloadButton").style.display = "none";
          document.getElementById("span").style.display = "none";
          document.getElementById("span2").style.display = "inline";

      }
      </script>

  </head>
  <body>
     <div class="container modl">
    <div class="row  gy-3 mb-4 ">
      <div class=" col-md-6 col-lg-4">
      <div class=" left-cart-det ">
      <img src="rent-img/hu2.jpeg" class="card-img-top main-img " alt="..."  id="mainimg">
      </div>
      <div class="row gx-2 mt-2 modlsho">
      <div class="col-3 ">
      <img src="rent-img/hu2.jpeg" class="card-img-top  smig" alt="..."  >
      </div>
      <div class="col-3 ">
      <img src="rent-img/hu3.jpeg" class="card-img-top  smig" alt="..."  >
      </div>
      <div class="col-3 ">
      <img src="rent-img/hu4.jpeg" class="card-img-top  smig" alt="..."  >
      </div>
      <div class="col-3 ">
      <img src="rent-img/hu5.jpeg" class="card-img-top  smig" alt="..."  >
      </div>
         </div>
   </div>
   <!-- stop disini  -->
   <div class="col-md-6 col-lg-6">
    <div class="right-cart-det">
      <h5>Hutao Genshin Impact</h5>
      <p class="text-dark">Rp. <span class="text-dark">200.000</span></p>
      <div class="mb-3 mt-2">
        <label for="exampleFormControlInput1" class="form-label">Nama Lengkap</label>
        <input type="text" class="form-control" id="namaLengkap" placeholder="your name">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" placeholder="your email">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">No Telepon</label>
        <input type="text" class="form-control" id="noTelepon" placeholder="your phone number">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Nama Costum</label>
        <input type="text" class="form-control" id="namaCustom" placeholder="name custom">
      </div>
      <div class="mb-4">
        <label for="exampleFormControlTextarea1" class="form-label">Jika ingin menambah atribut silahkan tulis disini :</label>
        <textarea class="form-control" id="atribut" rows="3"></textarea>
      </div>
      <span class="mb-3">Pilih Jenis Pengiriman : </span>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="JNT">
        <label class="form-check-label" for="flexCheckDefault">
          JNT Pengiriman Normal Rp. 30.000
        </label>
      </div>
      <div class="form-check mb-4">
        <input class="form-check-input" type="checkbox" value="" id="JNE" checked>
        <label class="form-check-label" for="flexCheckChecked">
          JNE Pengiriman Normal Rp. 20.000
        </label>
      </div>
      <a href="#" class="add-to-card text-center mb-4" onclick="checkout()">Check Out</a>
      <div class="container mt-4">
        <span class="text-dark mb-4" id="span" style="display:none;">Silahkan Unduh Metode Pembayaran</span>
      </div>
      <div class="container mt-4">
        <a href="#" class="add-to-card text-center mb-4" onclick="downloadImage()" id="downloadButton" style="display:none;">Unduh</a>
      </div>
      <span class="text-dark" id="span2" style="display:none;">Silahkan Verifikasi Pembayaran</span>
      <div class="container mt-4">
        <a href="#" class="add-to-card text-center mb-4" onclick="verify()" id="verify" style="display:none;">Verifikasi Pembayaran</a>
      </div>
       <script>
        function verify(){
          var subject = 'Lampiran Bukti Pembayaran';
        var body = 'Silahkan Lampirkan Bukti Pembayaran:';

        // Mengkodekan teks untuk digunakan dalam URL
          var encodedSubject = encodeURIComponent(subject);
          var encodedBody = encodeURIComponent(body);

          // Membentuk URL dengan teks yang sudah dikodekan
          var mailtoURL = 'mailto:ryuukiharukaze25@gmail.com?subject=' + encodedSubject + '&body=' + encodedBody;

          // Mengganti '+' dengan spasi biasa
          mailtoURL = mailtoURL.replace(/\+/g, ' ');

          // Mengarahkan ke URL yang sudah diperbarui
          window.location.href = mailtoURL;

        }
       </script>

      <h6 class="pro-info pb-2 pt-3 mt-3">Product Details</h6>
      <span class="info text-dark">I'm a product detail. I'm a great place to add more information about your
        product such as sizing, material, care and cleaning instructions. This is also a great space
        to write what makes this product special and how your customers can benefit from this item.
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facere assumenda provident adipisci praesentium blanditiis repellat officiis eos obcaecati natus alias error omnis, ducimus excepturi numquam consequuntur, architecto deserunt aliquid at?
      </span>
    </div>
  </div>
  </div>
 </div>
      <!-- Script -->
      <script>
        function checkout() {
          var namaLengkap = document.getElementById("namaLengkap").value;
          var email = document.getElementById("email").value;
          var noTelepon = document.getElementById("noTelepon").value;
          var namaCustom = document.getElementById("namaCustom").value;
          var atributJNT = document.getElementById("JNT").checked ? "JNT Express" : "";
          var atributJNE = document.getElementById("JNE").checked ? "JNE" : "";
          var atributLainnya = document.getElementById("atribut").value;
      
          // Validasi formulir
        if (!namaLengkap || !email || !noTelepon || !namaCustom || (!atributJNT && !atributJNE)) {
          // Jika ada satu atau lebih input yang kosong, tampilkan pesan kesalahan menggunakan SweetAlert dan hentikan fungsi
          Swal.fire({
            icon: "warning",
            text: "Silahkan lengkapi formulir untuk melanjutkan!",
          });
          return;
        }
    // Validasi jenis pengiriman
if ((atributJNT && atributJNE) || (!atributJNT && !atributJNE)) {
  // Jika pengguna memilih kedua jenis pengiriman atau tidak memilih sama sekali
  Swal.fire({
    icon: "warning",
    text: "Pilih salah satu jenis pengiriman!",
  });
  return;
}
      
          var subject = "Data Pemesanan";
          var body = "Data Pengirim:\n" +
            "Nama Lengkap: " + namaLengkap + "\n" +
            "Email: " + email + "\n" +
            "No Telepon: " + noTelepon + "\n" +
            "Nama Custom: " + namaCustom + "\n";
      
          if (atributJNT !== "") {
            body += "Pengiriman Normal Rp. 30.000: " + atributJNT + "\n";
          }
      
          if (atributJNE !== "") {
            body += "Pengiriman Normal Rp. 20.000: " + atributJNE + "\n";
          }
      
          if (atributLainnya.trim() !== "") {
            body += "Atribut Tambahan: " + atributLainnya + "\n";
          }
      
          var mailtoLink = "mailto:ryuukiharukaze25@gmail.com?subject=" + encodeURIComponent(subject) + "&body=" + encodeURIComponent(body);
      
          window.location.href = mailtoLink;
      
          // Mengosongkan formulir dan checkbox setelah beberapa saat
          setTimeout(function () {
            document.getElementById("namaLengkap").value = "";
            document.getElementById("email").value = "";
            document.getElementById("noTelepon").value = "";
            document.getElementById("namaCustom").value = "";
            document.getElementById("JNT").checked = false;
            document.getElementById("JNE").checked = false;
            document.getElementById("atribut").value = "";
      
            // Menampilkan SweetAlert setelah formulir dikosongkan
            Swal.fire({
              position: "top-center",
              icon: "success",
              title: "Pesanan Berhasil Dibuat",
              showConfirmButton: false,
              timer: 800
            });
          }, 800); // Menunggu 1 detik sebelum mengosongkan formulir dan menampilkan SweetAlert
      
          document.getElementById("downloadButton").style.display = "inline";
          document.getElementById("span").style.display = "inline";
        }
      </script>
          <!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="js/detail.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
</html>